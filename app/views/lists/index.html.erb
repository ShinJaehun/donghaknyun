<p style="color: green"><%= notice %></p>

<h1>Lists</h1>

<div class="lists">
  <div class="row" style="display: flex; justify-content: center;">
    <div class="col" style="width: 800px; flex: 0 0 800px; height: 300px; border: solid;">
      <p>
        <strong>List:</strong>
        <%= @list_source.name %>
      </p>
      <div id="group_source" class="items" data-controller="sortable" data-sortable-group-value="items" data-sortable-list-id="<%= @list_source.id %>">
        <% @list_source.items.rank(:row_order).each do |item| %>
          <!--<li data-sortable-id="<%#= item.id %>">-->
            <!--<div data-sortable-update-url="<%#= sort_item_path(item) %>">-->
          <div class="item-source" data-sortable-item-id="<%= item.id %>" data-sortable-item-user-id="<%= item.user_id %>">
            <%= render item %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
  <div class="row mt-1" style="display:flex; justify-content: center;">
    <% @lists.each do |list| %>
      <!--<div class="list col me-1" data-sortable-update-url="<%#= sort_list_path(list) %>" style="width: 250px; flex: 0 0 250px; height: 250px; border-radius: 10px; background: #AAAAAA;">-->
      <div class="list col me-1" style="width: 250px; flex: 0 0 250px; height: 250px; border-radius: 10px; background: #AAAAAA;">
        <%= render list %>
      </div>
    <% end %>
  </div>
</div>

<%= link_to "New list", new_list_path %>
